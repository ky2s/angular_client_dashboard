<body class="g-sidenav-show   bg-gray-100">
    <div class="min-height-300 bg-red-snapin position-absolute w-100"></div>

    <aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 " id="sidenav-main">
        <app-menu></app-menu>
    </aside>

    <main class="main-content position-relative border-radius-lg ">
        
        <app-nav></app-nav>

        <div class="container-fluid py-4">
            <div class="row ">
                <div class="col-12">

                    <div class="card mb-4">
                        <div class="card-header pb-0">
                            <h6>User Account List</h6>
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add-modal"><i class="ni ni-fat-add"></i> Add Client</button>
                        </div>

                        <div class="card-body pt-0">
                            <div class="table-responsive p-0">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th
                                                class="text-uppercase text-secondary text-center font-weight-bolder">
                                                No.</th>
                                            <th
                                                class="text-uppercase text-secondary text-center font-weight-bolder">
                                                Name</th>
                                            <th
                                                class="text-uppercase text-secondary text-center font-weight-bolder">
                                                Email</th>
                                            <th
                                                class="text-uppercase text-secondary text-center font-weight-bolder">
                                                Phone</th>
                                            <th 
                                                class="text-uppercase text-secondary text-center font-weight-bolder">
                                                Status</th>
                                            <th
                                                class="text-uppercase text-secondary text-center font-weight-bolder">
                                                Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let row of dataList; let i = index">
                                            <td class="text-center">
                                                {{i + 1}}
                                            </td>
                                            <td class="text-center">
                                                {{row.name}}
                                            </td>
                                            <td class="text-center">
                                                <button class="btn text-decoration-underline pt-0 pb-0" data-bs-toggle="tooltip" data-bs-placement="top" title="Klik untuk mengirim email" (click)="openGmail(row.email)">{{row.email}}</button> 

                                                <br>
                                                <span class="badge badge-sm bg-gradient-success" *ngIf="row.is_email_verified">Verified</span>
                                                <span class="badge badge-sm bg-gradient-danger" *ngIf="!row.is_email_verified">Unverified</span>
                                            </td>
                                            <td class="text-center">
                                                <button class="btn text-decoration-underline pt-0 pb-0" data-bs-toggle="tooltip" data-bs-placement="top" title="Klik untuk mengirim Whatsapp" (click)="openWhatsApp(row.phone)">{{row.phone}}</button> 

                                                <br>
                                                <span class="badge badge-sm bg-gradient-success" *ngIf="row.is_phone_verified">Verified</span>
                                                <span class="badge badge-sm bg-gradient-danger" *ngIf="!row.is_phone_verified">Unverified</span>
                                            </td>
                                            <td class="text-center">
                                                <span class="badge badge-sm bg-gradient-success" *ngIf="row.status">Active</span>
                                                <span class="badge badge-sm bg-gradient-danger" *ngIf="!row.status">Blocked</span>
                                                <!-- {{row.status}} -->
                                            </td>
                                            <td class="text-center">
                                                <button type="button" routerLink=""
                                                    class="btn btn-sm btn-secondary" data-toggle="tooltip">
                                                    Detail <br> Account
                                                </button>
                                                &nbsp;
                                                <ng-container *ngIf="row.is_email_verified">
                                                    <button type="button" (click)="unverifEmail(row.id)" class="btn btn-sm btn-danger" data-bs-toggle="modal">
                                                        Unverified <br> Email
                                                    </button>
                                                </ng-container>
                                                <ng-container *ngIf="!row.is_email_verified">
                                                    <button type="button" (click)="verifEmail(row.id)" class="btn btn-sm btn-success" data-bs-toggle="modal">
                                                        Verified <br> Email
                                                    </button>
                                                </ng-container>
                                                
                                                &nbsp;
                                                <ng-container *ngIf="row.is_phone_verified">
                                                    <button type="button" (click)="unverifPhone(row.id)" class="btn btn-sm btn-danger" data-bs-toggle="modal">
                                                        Unverified <br> Phone
                                                    </button>
                                                </ng-container>
                                                <ng-container *ngIf="!row.is_phone_verified">
                                                    <button type="button" (click)="verifPhone(row.id)" class="btn btn-sm btn-success" data-bs-toggle="modal">
                                                        Verified <br> Phone
                                                    </button>
                                                </ng-container>
                                                &nbsp;
                                                <ng-container *ngIf="row.status">
                                                    <button type="button" (click)="blockUser(row.id)" class="btn btn-sm btn-danger" data-bs-toggle="modal">
                                                        Block <br> Account
                                                    </button>
                                                </ng-container>
                                                <ng-container *ngIf="!row.status">
                                                    <button type="button" (click)="unblockUser(row.id)" class="btn btn-sm btn-success" data-bs-toggle="modal">
                                                        Unblock <br> Account
                                                    </button>
                                                </ng-container>
                                                &nbsp;
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                      </div>

                </div>
            </div>
            <footer class="footer pt-3  ">
                <div class="container-fluid">
                    <div class="row align-items-center justify-content-lg-between">
                        <div class="col-lg-6 mb-lg-0 mb-4">
                            <div class="copyright text-center text-sm text-muted text-lg-start">
                                Â©
                                <script>
                                    document.write(new Date().getFullYear())
                                </script>,
                                made with <i class="fa fa-heart"></i> by
                                <a href="https://snap-in.co.id" class="font-weight-bold" target="_blank">Creative
                                    Tim</a>
                                for a better Apps.
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <ul class="nav nav-footer justify-content-center justify-content-lg-end">
                                <li class="nav-item">
                                    <a href="https://snap-in.co.id" class="nav-link text-muted"
                                        target="_blank">Snap-In Lab</a>
                                </li>
                                <li class="nav-item">
                                    <a href="https://snap-in.co.id/presentation" class="nav-link text-muted"
                                        target="_blank">About Us</a>
                                </li>
                                <li class="nav-item">
                                    <a href="https://snap-in.co.id/blog" class="nav-link text-muted"
                                        target="_blank">Blog</a>
                                </li>
                                <li class="nav-item">
                                    <a href="https://snap-in.co.id/license" class="nav-link pe-0 text-muted"
                                        target="_blank">License</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
        </div>

    </main>

</body>